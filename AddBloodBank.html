<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Redlife</title>
  <link rel="stylesheet" href="dashboard.css">
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
  <link rel="stylesheet" href="assets/css/style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>

<body>
  <nav class="navbar navbar-expand-lg bg-light">
    <div class="container-fluid">
      <img src="logo.png" width="65px" height="50px" alt="">
      <a class="navbar-brand" style="font-size: 30px" href="index.html">Redlife</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" style="color:black;font-size: 17px" href="about.html" role="button"
              data-bs-toggle="dropdown" aria-expanded="false">
              About us
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="index.html">Home</a></li>
              <li><a class="dropdown-item" href="gallery.html">Gallery</a></li>


            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" style="color:black;font-size: 17px" href="looking_blood.html"
              role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Looking for Blood
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="BloodAvailability.html">Blood availability</a></li>
              <!--<li><a class="dropdown-item" href="#">Blood bank directory</a></li>-->
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" style="color:black;font-size: 17px" href="donate_blood.html"
              role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Donate Blood
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="donorlogin.html">Donor Registration</a></li>
              <li><a class="dropdown-item" href="#">Blood donation camps</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" style="color:black;font-size: 17px" href="#" role="button"
              data-bs-toggle="dropdown" aria-expanded="false">
              Blood bank login
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Add your Blood bank </a></li>

            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <h3 class="text-danger">Blood Bank Details</h3>
  <!-- 			 <div align="right"> -->
  <!-- 			 <button type="button" id="back" class="btn btn-danger" onclick="window.location.href='/BLDAHIMS/bloodbank/portalUser.cnt'">BACK</button> -->
  <!-- 			 </div> -->
  </div>

  <ul class="nav nav-tabs">

    <li onclick="openInfo(event, 'bbInfo')" id="wb" class=" active infoLink"><a href="javascript:void(0)">Blood Bank
        Information &nbsp;<span class="badge">1</span></a></li>
    <li onclick="openInfo(event, 'donationInfo')" id="pls" class=" infoLink"><a href="javascript:void(0)">Donation
        Information &nbsp; <span class="badge">2</span></a></li>
    <!--   <li onclick="openInfo(event, 'miscel')" id="plt" class=" infoLink"><a href="javascript:void(0)">Miscellaneous  &nbsp; <span class="badge">3</span></a></li>
              <li onclick="openInfo(event, 'user')" id="user1" class=" infoLink"><a href="javascript:void(0)">User Type  &nbsp; <span class="badge">4</span></a></li> -->
  </ul>




  <div class="tabInfo" id='bbInfo'>
    <div class="row">
      <div class="panel-body">
        <div class="panel panel-default">
          <div class="panel-body">
            <fieldset>
              <legend>Blood Bank Address</legend>
              <div class="row">
                <div class="col-sm-1">
                  <b>State</b>
                  <font color="red">*</font>
                </div>
                <div class="col-sm-3">
                  <select name="stateCode" onchange="loadDistrictList(this.value)" class="form-control" id="stateCode">
                    <option value="-1">Select State</option>

                    <option value="35">Andaman &amp; Nicobar Islands</option>
                    <option value="28">Andhra Pradesh</option>
                    <option value="12">Arunachal Pradesh</option>
                    <option value="18">Assam</option>
                    <option value="10">Bihar</option>
                    <option value="94">Chandigarh</option>
                    <option value="22">Chhattisgarh</option>
                    <option value="26">Dadra &amp; Nagar Haveli</option>
                    <option value="25">Daman &amp; Diu</option>
                    <option value="97">Delhi</option>
                    <option value="30">Goa</option>
                    <option value="24">Gujarat</option>
                    <option value="96">Haryana</option>
                    <option value="92">Himachal Pradesh</option>
                    <option value="91">Jammu and Kashmir</option>
                    <option value="20">Jharkhand</option>
                    <option value="29">Karnataka</option>
                    <option value="32">Kerala</option>
                    <option value="37">Ladakh</option>
                    <option value="31">Lakshadweep</option>
                    <option value="23">Madhya Pradesh</option>
                    <option value="27">Maharashtra</option>
                    <option value="14">Manipur</option>
                    <option value="17">Meghalaya</option>
                    <option value="15">Mizoram</option>
                    <option value="13">Nagaland</option>
                    <option value="21">Odisha</option>
                    <option value="34">Puducherry</option>
                    <option value="93">Punjab</option>
                    <option value="98">Rajasthan</option>
                    <option value="11">Sikkim</option>
                    <option value="33">Tamil Nadu</option>
                    <option value="36">Telangana</option>
                    <option value="16">Tripura</option>
                    <option value="95">Uttarakhand</option>
                    <option value="99">Uttar Pradesh</option>
                    <option value="19">West Bengal</option>
                  </select>
                </div>

                <div class="col-sm-1">
                  <b>District</b>
                  <font color="red">*</font>
                </div>
                <div class="col-sm-3">
                  <select name="districtList" id="distList" class="form-control" onchange=" setSelectedDistrict(this)">
                    <option value="-1">Select District</option>
                  </select>

                </div>

                <div class="col-sm-1">
                  <b>City</b>
                </div>
                <div class="col-sm-3">
                  <input type="text" name="hospCity" maxlength="40" tabindex="1" value=""
                    onkeypress="return validateAlphaOnly(event,this)" class="form-control">

                </div>

              </div>
              <br>
            </fieldset>
            <br>

            <fieldset>
              <legend>Blood Bank Details</legend>
              <div class="row">
                <div class="col-sm-2">
                  <b>Blood Bank Name</b>
                  <font color="red">*</font>
                </div>
                <div class="col-sm-3">
                  <input type="text" name="bldbankName" maxlength="100" tabindex="1" value=""
                    onkeypress="return validateAlphaOnlyWithDotAndSpace(event,this)" class="form-control">

                </div>
                <div class="col-sm-3">
                  <b>Parent Hospital Name</b>
                </div>
                <div class="col-sm-4">
                  <input type="text" name="parentHospName" maxlength="100" tabindex="1" value=""
                    onkeypress="return validateAlphaOnlyWithDotAndSpace(event,this)" class="form-control">
                </div>


              </div>

              <br>

              <div class="row">
                <div class="col-sm-2">
                  <b>Short Name</b>
                </div>
                <div class="col-sm-2">
                  <input type="text" name="hospShortName" maxlength="10" tabindex="1" value=""
                    onkeypress="return validateAlphaOnlyWithDotAndSpace(event,this)" class="form-control">
                </div>

                <div class="col-sm-2">
                  <b>Category</b>
                  <font color="red">*</font>
                </div>
                <div class="col-sm-2">
                  <select name="hospType" onchange="" class="form-control">
                    <option value="-1">Select type</option>
                    <option value="Govt">Govt.</option>
                    <option value="Red Cross">Red Cross</option>
                    <option value="Charitable">Charitable/Vol</option>
                    <option value="Private">Private</option>
                  </select>
                </div>

                <div class="col-sm-2">
                  <b>Contact Person</b>
                  <font color="red">*</font>
                </div>
                <div class="col-sm-2">
                  <input type="text" name="contactPerson" maxlength="50" tabindex="1" value=""
                    onkeypress="return validateAlphaOnlyWithDotAndSpace(event,this)" class="form-control">
                </div>

              </div><br>

              <div class="row">
                <div class="col-sm-2">
                  <b>Email</b>
                </div>
                <div class="col-sm-2">
                  <input type="text" name="hospEmail" maxlength="40" tabindex="1" value="" class="form-control">
                </div>

                <div class="col-sm-2">
                  <b>Contact No.</b>
                  <font color="red">*</font>
                </div>
                <div class="col-sm-2">
                  <input type="text" name="hospContact" maxlength="43" tabindex="1" value=""
                    onkeypress="return validateNumericWithComma(event)" class="form-control">
                </div>

                <div class="col-sm-2">
                  <b>Fax No.</b>
                </div>
                <div class="col-sm-2">
                  <input type="text" name="hospFax" maxlength="20" tabindex="1" value=""
                    onkeypress="return validateNumeric(event)" class="form-control">
                </div>
              </div><br>
              <div class="row">

                <div class="col-sm-2">
                  <b>Licence No.</b>
                </div>
                <div class="col-sm-2">


                  <input type="text" name="licenceNo" maxlength="100" tabindex="1" value=""
                    onkeypress="return  validateAlphaNumericWithDotsOnly(event,this)" class="form-control">


                </div>
                <div class="col-sm-2">
                  <b>From Date&nbsp;&nbsp;&nbsp;</b>
                </div>
                <div class="col-sm-2">

                  <input type="text" id="datepicker" name="licenceFromDate" class="form-control">

                </div>

                <div class="col-sm-2">
                  <b>To Date&nbsp;&nbsp;&nbsp;</b>
                </div>
                <div class="col-sm-2">

                  <input type="text" id="datepicker1" name="licenceToDate" class="form-control">

                </div>
              </div><br>
              <div class="row">
                <div class="col-sm-2">
                  <b>Component Facility</b>
                </div>
                <div class="col-sm-2">
                  <select name="componentFacility" tabindex="1" class="form-control">
                    <option value="-1">Select Value</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                  </select>
                </div>

                <div class="col-sm-2">
                  <b>Apheresis Facility</b>
                </div>
                <div class="col-sm-2">
                  <select name="apheresisFacility" tabindex="1" class="form-control">
                    <option value="-1">Select Value</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                  </select>
                </div>

                <div class="col-sm-2">
                  <b>Helpline No.</b>
                </div>
                <div class="col-sm-2">
                  <input type="text" name="helplineNo" maxlength="21" tabindex="1" value=""
                    onkeypress="return validateNumericWithComma(event)" class="form-control">
                </div>
              </div>
              <br>
            </fieldset>
            <br>



            <div class="row">

              <div class="col-sm-6">
                <fieldset>
                  <legend>Postal Address</legend>
                  <div class="row">
                    <div class="col-sm-2">
                      <b>Address1</b>
                      <font color="red">*</font>
                    </div>
                    <div class="col-sm-10">
                      <input type="text" name="hospAdd1" maxlength="200" tabindex="1" value=""
                        onkeypress="return  validateAlphaNumericWithDotsOnly(event,this)" class="form-control">
                    </div>
                  </div><br>

                  <div class="row">
                    <div class="col-sm-2">
                      <b>Address2</b>
                    </div>
                    <div class="col-sm-10">
                      <input type="text" name="hospAdd2" maxlength="200" tabindex="1" value=""
                        onkeypress="return  validateAlphaNumericWithDotsOnly(event,this)" class="form-control">
                    </div>
                  </div><br>

                  <div class="row">
                    <div class="col-sm-2">
                      <b>Pincode</b>
                      <font color="red">*</font>
                    </div>
                    <div class="col-sm-4">
                      <input type="text" name="pincode" maxlength="6" tabindex="1" value=""
                        onkeypress="return validateNumeric(event)" class="form-control">
                    </div>
                  </div><br />
                </fieldset>

                <fieldset>
                  <legend>Geographical Coordinates<span style='font-size:17px'>(<abbr
                        title="Click geocode or use map to fetch latitude/longitude">?</abbr>)</span></legend>
                  <div class="row">
                    <div class="col-sm-2">
                      <b>Latitude</b>
                    </div>
                    <div class="col-sm-4">
                      <input type="text" name="hospLatitude" maxlength="6" tabindex="1" value=""
                        onkeypress="return validateNumericwithDot(event)" class="form-control">
                    </div>

                    <div class="col-sm-2">
                      <b>Longitude</b>
                    </div>
                    <div class="col-sm-4" align="left">
                      <input type="text" name="hospLongitude" maxlength="6" tabindex="1" value=""
                        onkeypress="return validateNumericwithDot(event)" class="form-control">
                    </div>
                  </div><br>

                  <div class="row">
                    <div class="col-sm-2">
                      <button type="button" id="submitGeocode" class="btn btn-danger" onclick="">Geocode</button>
                    </div>
                    <div class="col-sm-10">
                      <textarea name="address" tabindex="1" rows="2" disabled="disabled"
                        class="form-control"></textarea>

                    </div>
                  </div><br>
                </fieldset>




                <div class="row">
                  <div class="col-sm-4">
                    <b>Website</b>
                  </div>
                  <div class="col-sm-8">
                    <input type="text" name="hospWebsite" tabindex="1" value="" class="form-control">
                  </div>
                </div>
                <br>
                <!--Added bY Hemant on 26-07-19  -->
                <div class="row">
                  <div class="col-sm-4">
                    <b>No of Bed Hospital</b>
                  </div>
                  <div class="col-sm-4">
                    <input type="text" name="noOfBed" tabindex="1" value="" class="form-control">
                  </div>
                </div><br>

                <!-- Ends -->

              </div>

              <div class="col-sm-6">
                <input id="pac-input" class="controls" type="text" placeholder="Enter a location">

                <div style="height:500px; width:500px;" align="left">
                  <div id="map"></div>
                </div>

                <script>
                  // This example requires the Places library. Include the libraries=places
                  // parameter when you first load the API. For example:
                  // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">
                  var marker;

                  function initMap() {
                    var latFlag = false;
                    var lonFlag = false;
                    var x = document.getElementsByName('hospLatitude')[0].value;
                    var y = document.getElementsByName('hospLongitude')[0].value;
                    if (x == null || x == '') {
                      x = 28.6139391;
                    }
                    else {
                      x = parseFloat(x);
                      latFlag = true;
                    }

                    if (y == null || y == '') {
                      y = 77.2090212000;
                    }
                    else {
                      y = parseFloat(y);
                      lonFlag = true;
                    }
                    var map = new google.maps.Map(document.getElementById('map'), {
                      center: { lat: x, lng: y },
                      zoom: 13
                    });


                    var input = /** @type {!HTMLInputElement} */(
                      document.getElementById('pac-input'));

                    var types = document.getElementById('type-selector');
                    map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
                    map.controls[google.maps.ControlPosition.TOP_LEFT].push(types);

                    var autocomplete = new google.maps.places.Autocomplete(input);
                    autocomplete.bindTo('bounds', map);

                    var infowindow = new google.maps.InfoWindow();
                    marker = new google.maps.Marker({
                      map: map,
                      anchorPoint: new google.maps.Point(0, -29)

                    });


                    map.addListener('click', function (event) {
                      var latitude = event.latLng.lat();
                      var longitude = event.latLng.lng();
                      // map.panTo( event.latLng);
                      document.getElementsByName('hospLatitude')[0].value = latitude.toFixed(5);
                      document.getElementsByName('hospLongitude')[0].value = longitude.toFixed(5);
                      marker.setPosition(event.latLng);
                      marker.setVisible(true);
                    });


                    autocomplete.addListener('place_changed', function () {
                      infowindow.close();
                      marker.setVisible(false);
                      var place = autocomplete.getPlace();
                      if (!place.geometry) {
                        window.alert("Autocomplete's returned place contains no geometry");
                        return;
                      }

                      // If the place has a geometry, then present it on a map.
                      if (place.geometry.viewport) {
                        map.fitBounds(place.geometry.viewport);
                      } else {
                        map.setCenter(place.geometry.location);
                        map.setZoom(17);  // Why 17? Because it looks good.
                      }
                      document.getElementsByName('hospLatitude')[0].value = place.geometry.location.lat();
                      document.getElementsByName('hospLongitude')[0].value = place.geometry.location.lng();
                      document.getElementsByName('address')[0].value = document.getElementById('pac-input').value;
                      marker.setIcon(/** @type {google.maps.Icon} */({
                        url: place.icon,
                        size: new google.maps.Size(71, 71),
                        origin: new google.maps.Point(0, 0),
                        anchor: new google.maps.Point(17, 34),
                        scaledSize: new google.maps.Size(35, 35)
                      }));
                      marker.setPosition(place.geometry.location);
                      marker.setVisible(true);

                      if (place.address_components) {
                        address = [
                          (place.address_components[0] && place.address_components[0].short_name || ''),
                          (place.address_components[1] && place.address_components[1].short_name || ''),
                          (place.address_components[2] && place.address_components[2].short_name || '')
                        ].join(' ');
                      }

                      infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address);
                      infowindow.open(map, marker);
                    });

                    /*  // Sets a listener on a radio button to change the filter type on Places
                     // Autocomplete.
                     function setupClickListener(id, types) {
                       var radioButton = document.getElementById(id);
                       radioButton.addEventListener('click', function() {
                         autocomplete.setTypes(types);
                       });
                     }
             
                     setupClickListener('changetype-all', []);
                     setupClickListener('changetype-address', ['address']);
                     setupClickListener('changetype-establishment', ['establishment']);
                     setupClickListener('changetype-geocode', ['geocode']);
                   */
                    var geocoder = new google.maps.Geocoder();

                    document.getElementById('submitGeocode').addEventListener('click', function () {
                      //alert("hi");
                      geocodeAddress(geocoder, map);
                    });


                  }

                  function geocodeAddress(geocoder, resultsMap) {
                    var x = document.getElementsByName("stateCode")[0].selectedIndex;
                    var y = document.getElementsByName("stateCode")[0].options;
                    var stateName = y[x].text;
                    //alert(stateName);
                    var a = document.getElementById("distList").selectedIndex;
                    var b = document.getElementById("distList").options;
                    var districtName = b[a].text;
                    //alert(districtName);
                    if (document.getElementById("distList").value == "-1") {
                      districtName = "";
                    }
                    var address = document.getElementsByName('bldbankName')[0].value + " " + document.getElementsByName('hospAdd1')[0].value + " " + document.getElementsByName('hospAdd2')[0].value + " " + document.getElementsByName('hospCity')[0].value + " " + districtName + " " + stateName;
                    geocoder.geocode({ 'address': address }, function (results, status) {
                      if (status === google.maps.GeocoderStatus.OK) {
                        resultsMap.setCenter(results[0].geometry.location);

                        marker = new google.maps.Marker({
                          map: resultsMap,
                          position: results[0].geometry.location


                        });
                        var m = results[0].geometry.location.lat();
                        var n = results[0].geometry.location.lng();
                        document.getElementsByName('hospLatitude')[0].value = m.toFixed(5);
                        document.getElementsByName('hospLongitude')[0].value = n.toFixed(5);
                        document.getElementsByName('address')[0].value = address;
                      } else {
                        alert('Geocode was not successful');
                      }
                    });
                  }

                </script>
                <script
                  src="https://maps.googleapis.com/maps/api/js?libraries=places&region=IN&callback=initMap&key=AIzaSyB9o2-H1VP2p3JwxC8f-yr_Le7UpuwovPE"
                  async defer></script>

              </div>
            </div>

            <script>
              let sidebar = document.querySelector(".sidebar");
              let sidebarBtn = document.querySelector(".sidebarBtn");
              sidebarBtn.onclick = function () {
                sidebar.classList.toggle("active");
                if (sidebar.classList.contains("active")) {
                  sidebarBtn.classList.replace("bx-menu", "bx-menu-alt-right");
                } else
                  sidebarBtn.classList.replace("bx-menu-alt-right", "bx-menu");
              }
            </script>
            <hr>
            <div class="footer-clean">
              <footer>
                <div class="container" style="height: 50px;">
                  <div class="row justify-content-center">
                    <div class="col-sm-4 col-md-3 item">
                      <h3>About us</h3>
                      <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#">Gallery</a></li>
                        <li><a href="#">Notifications</a></li>
                      </ul>
                    </div>
                    <div class="col-sm-4 col-md-3 item">
                      <h3>Want Blood</h3>
                      <ul>
                        <li><a href="#">Blood availability</a></li>

                      </ul>
                    </div>

                    <div class="col-sm-4 col-md-3 item">
                      <h3>Donate Blood</h3>
                      <ul>
                        <li><a href="donorlogin.html">Donor Registration</a></li>
                        <li><a href="#">Blood donation camps</a></li>
                      </ul>
                    </div>
                    <div class="col-sm-4 col-md-3 item">
                      <h3>24/7 Helpline</h3>
                      <ul>
                        <li><a href="#">redlife324@gmail.com</a></li>
                        <li><a href="#">toll-free: 1800-372-344</a></li>
                        <li><a href="#">6700-948-434</a></li>
                      </ul>
                    </div>

                  </div>
                </div>
              </footer>
              <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
                crossorigin="anonymous"></script>
</body>

</html>